{% extends 'home.html' %}
{% load static %}

{% block title %}
<title>FAToFIT - Communaut√©</title>
{% endblock title %}

{% block style %}
<link href="{% static 'css/header2.css' %}" rel="stylesheet" type="text/css">
<link href="{% static 'css/sidenav.css' %}" rel="stylesheet" type="text/css">
{% endblock style %}

{% block script %}
{% endblock script %}

{% block main %}
<!-- Box, a encapsuler pour tous les items -->
<div class="card shadow border-start-primary py-2">
    <div class="card-body">
        <h1>FAToFIT Social</h1>
        <p class="pt-3 px-3">Bienvenue dans l'espace social de FAToFIT.</p>
        <p class="px-3">Partagez vos moments idees et vos records, demandez et donnez des conseils !</p>
    </div>
</div>
<!-- TODO : style a retravailler -->
<div class="card shadow border-start-primary py-2 mt-3">
    <div class="d-flex flex-row justify-content-between px-3 my-2">
        <div class="p-2 border rounded-3" style="background-color: #702CF6;">
            <a href="" class="text-white text-decoration-none">
                <i class="bi bi-plus-square pe-2"></i>
                Ajoutez un post
            </a>
        </div>
    </div>
    {% for post in posts %}
    <div class="card-body px-3">
        <div class="d-flex flex-row justify-content-between">
            <span class="text-primary fw-bold pb-2">@{{ post.author }}</span>
            <div>
                {% if account == post.author %}
                <a href="" class="text-danger text-decoration-none">
                    <i class="bi bi-trash3 pe-2"></i>
                </a>
                {% endif %}
                <span>{{ post.created }}</span>
            </div>
        </div>
        <div class="px-2">
            <p>{{ post.text }}</p>
        </div>
        <!-- TODO : Cliquer sur upvote ou downvote pour faire augmenter le compteur => mise en evidence de l'item clique;
            si item clique, transferer la mise en evidence et mettre a jour les 2 compteurs ( + et - )
            (ref likes et dislikes Youtube, Twitter...)
        -->
        <div class="d-flex flex-row">
            <div class="text-success px-2">
                <i class="bi bi-arrow-up-circle"></i>
                <span class="text-success">{{ post.upVotes }}</span>
            </div>
            <div class="text-danger px-2">
                <i class="bi bi-arrow-down-circle"></i>
                <span class="text-danger">{{ post.downVotes }}</span>
            </div>
        </div>
        <hr>
    </div>
    {% endfor %}
</div>
{% endblock main %}